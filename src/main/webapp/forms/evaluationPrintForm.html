<link href="./styles/print2.css" rel="stylesheet" media="all">
<link rel="stylesheet" href="https://printjs-4de6.kxcdn.com/print.min.css" media="all">

<form class="container" role="form" dir="rtl">
    <script cam-script type="text/form-script">
        camForm.on('form-loaded',function(){
          camForm.variableManager.fetchVariable('facePictureFile');
          camForm.variableManager.fetchVariable('IdNum');
          camForm.variableManager.fetchVariable('nationalCode');
          camForm.variableManager.fetchVariable('lastName');
          camForm.variableManager.fetchVariable('name');
          camForm.variableManager.fetchVariable('originatedLoc');
          camForm.variableManager.fetchVariable('birthdate');
          camForm.variableManager.fetchVariable('fatherName');
          camForm.variableManager.fetchVariable('address');
          camForm.variableManager.fetchVariable('telephone');
          camForm.variableManager.fetchVariable('mobileNumber');
          camForm.variableManager.fetchVariable('religious');
        })

        $scope.today = new Date();

        camForm.on('variables-fetched', function() {
          // after the variables are fetched, bind the value of RequesterModel to a angular
          // scope value such that the form can work on it

         $scope.RequesterModel = {
            lastName :camForm.variableManager.variable('lastName').value,
            fatherName :camForm.variableManager.variable('fatherName').value,
            birthdate :camForm.variableManager.variable('birthdate').value,
            originatedLoc :camForm.variableManager.variable('originatedLoc').value,
            name :camForm.variableManager.variable('name').value,
            nationalCode :camForm.variableManager.variable('nationalCode').value,
            IdNum :camForm.variableManager.variable('IdNum').value,
            address :camForm.variableManager.variable('address').value,
            telephone :camForm.variableManager.variable('telephone').value,
            mobileNumber :camForm.variableManager.variable('mobileNumber').value,
            religious :camForm.variableManager.variable('religious').value,
         }

         console.log('$scope.RequesterModel: ', $scope.RequesterModel);
         });
        </script>
    <table class="table printable" dir="rtl" id="printForm">
        <tr class="tr">
            <th>
                <h1 style="text-align: center;">فرم ارزشیابی کلاس اموزشی رانندگان وسایل نقلیه عمومی</h1>
            </th>
        </tr>
        <tr class="tr">
            <div>
                <td>
                    <div class="rows">
                        <div class="flex-10 title">
                            <p>مشخصات فردی راننده :</p>
                        </div>
                        <div class="flex-1 face-picture">
                            <img src="{{ camForm.variableManager.variable('facePictureFile').contentUrl}}"
                                class="img-responsive">
                        </div>
                    </div>

                    <div class="rows">
                        <div class="flex-5">
                            <p>نام : {{RequesterModel.name}}</p>
                        </div>
                        <div class="flex-5">
                        </div>
                    </div>



                    <div class="rows">
                        <div class="flex-5">
                            <p>نام خانوادگی : {{RequesterModel.lastName}}</p>
                        </div>
                        <div class="flex-5">
                            <p>تاریخ تولد : {{RequesterModel.birthdate | camDate:'short'}}</p>
                        </div>
                    </div>



                    <div class="rows">
                        <div class="flex-5">
                            <p>نام پدر : {{RequesterModel.fatherName}}</p>
                        </div>
                        <div class="flex-5">
                            <p>محل صدور : {{RequesterModel.originatedLoc}}</p>
                        </div>
                    </div>



                    <div class="rows">
                        <div class="flex-5">
                            <p>شماره شناسنامه : {{RequesterModel.IdNum}}</p>
                        </div>
                        <div class="flex-5">
                            <p>شماره ملی :  {{RequesterModel.nationalCode}}</p>
                        </div>
                    </div>



                    <div class="rows">
                        <div class="flex-5">
                            <p>شماره تماس :  {{RequesterModel.mobileNumber}}</p>
                        </div>
                        <div class="flex-5">

                        </div>
                    </div>

                </td>

            </div>
        </tr>


        <tr class="tr">
            <td>
                <div class="rows">
                    <div class="flex-10">
                        <p>واحد مونیتورینگ :</p>
                    </div>
                    <div class="flex-2">
                        <p>امضا</p>
                    </div>
                </div>
            </td>

        </tr>

        <tr class="tr">
            <td>
                <div class="rows">
                    <div class="flex-10">
                        <p>واحد شکایات و اشیا گمشده :</p>
                    </div>
                    <div class="flex-2">
                        <p>امضا</p>
                    </div>
                </div>

            </td>
        </tr>

        <tr class="tr">
            <td>
                <div class="rows">
                    <div class="flex-10">
                        <p>واحد صدور دفترچه رانندگی :</p>
                    </div>
                    <div class="flex-2">
                        <p>امضا</p>
                    </div>
                </div>


            </td>
        </tr>

        <tr class="tr">
            <td>
                <div class="rows">
                    <div class="flex-10">
                        <p>واحد اجرایی :</p>
                    </div>
                    <div class="flex-2">
                        <p>امضا</p>
                    </div>
                </div>

            </td>
        </tr>

        <tr class="tr">
            <td>
                <div class="rows">
                    <div class="flex-10">
                        <p>واحد حمل و نقل و ترافیک :</p>
                    </div>
                    <div class="flex-2">
                        <p>امضا</p>
                    </div>
                </div>

            </td>
        </tr>
    </table>
    <button class="btn btn-default" onclick="print1()">پرینت فرم ارزشیابی</button>

    <script src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
    <script>
        function print1() {
           $("#printForm").show();
            printJS({ printable: 'printForm', type: 'html', css: ['./styles/print2.css'] });
            $("#printForm").hide();
           
        }
       
    </script>

</form>